{"id":5,"name":"Mass Scavenge","useGroups":false,"group":"","importUrl":"","params":{"group":"0","spear":"x","sword":"x","axe":"","light":"","heavy":"x","spearBackup":"","swordBackup":"","axeBackup":"","lightBackup":"","heavyBackup":"","runTime_off":"1","runTime_def":"1"},"nextStepId":2,"steps":[{"id":1,"gotoUrl":"{gameUrl}?village={id}&screen=place&mode=scavenge_mass&group={group}","script":"function delay(time, random = 0) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, time + parseInt(Math.random() * random));\n    });\n}\n\nnew Promise(async (resolve, reject) => {\n    $.getScript('https://shinko-to-kuma.com/scripts/massScavenge.js');\n    await delay(5000)\n\n    $(\"input#spear\").prop('checked', IDLE.spear ? true : false);\n    $(\"input#sword\").prop('checked', IDLE.sword ? true : false);\n    $(\"input#axe\").prop('checked', IDLE.axe ? true : false);\n    $(\"input#light\").prop('checked', IDLE.light ? true : false);\n    $(\"input#heavy\").prop('checked', IDLE.heavy ? true : false);\n\n    $(\"input#spearBackup\").val(IDLE.spearBackup)\n    $(\"input#swordBackup\").val(IDLE.swordBackup)\n    $(\"input#axeBackup\").val(IDLE.axeBackup)\n    $(\"input#lightBackup\").val(IDLE.lightBackup)\n    $(\"input#heavyBackup\").val(IDLE.heavyBackup)\n\n    $(\"#timeSelectorHours\").click()\n    await delay(500)\n    $(\".runTime_off\").val(IDLE.runTime_off)\n    $(\".runTime_def\").val(IDLE.runTime_def)\n\n\n    $('input#sendMass').click()\n\n    await delay(10000);\n\n    const sendButtons = $('input#sendMass')\n    for (let a = 0; a < sendButtons.length; a++) {\n        const sendButton = sendButtons[a];\n        sendButton.click()\n        await delay(3000, 1000)\n    }\n    resolve()\n})"}]}
